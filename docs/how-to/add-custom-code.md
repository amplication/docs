---
id: custom-code-overview
title: Understanding Custom Code in Amplication
sidebar_label: Understanding Custom Code
slug: /custom-code-overview
pagination_next: getting-started/add-custom-code
---

# Understanding Custom Code in Amplication

Amplication allows seamless integration of your custom code with generated code through our [Smart Git Sync](/smart-git-sync) feature.
This lets you add custom business logic while continuing to use Amplication to update your data models, permissions, roles, plugins, and more.

This guide is an in-depth explanation on how custom code works in your Amplication project.

## How Custom Code Integration Works

1. Amplication uses a specific folder structure to manage base and non-base files.
2. The `base` folder contains generated files that will get updates only if there are relevant changes (e.g., you add a new plugin).
3. Non-base files are intended for custom code.
4. Amplication will make necessary changes to both base and non-base files (e.g., updating interfaces, removing references to deleted plugins) while always preserving and respecting your custom code.

:::tip
While you can add custom code to _all files_, we recommend primarily adding custom code to non-base files (e.g., `user.service.ts` instead of `user.service.base.ts`) for easier maintenance.
:::

## Folder Structure

Each entity has a dedicated folder under the `src` folder:

```
└── src
    ├── customer
    ├── user
    ├── project
    └── task
```

Within each entity folder, files are split into two groups:

### Base files

**Base files**: Located in the `base` folder, these are automatically generated by Amplication.

### Non-base Files

**Non-base files**: These inherit from the base files and are intended for your custom code. They reside directly in the entity folder.

```
src
└── Customer
    ├── Base
    │    ├── customer.controller.base.ts
    │    ├── customer.service.base.ts
    │    └── ...
    ├── customer.controller.ts
    ├── customer.service.ts
    └── ...
```

Your custom code, whether it's in base or non-file files, is always preserved and respected across builds.

## Smart Git Sync

Amplication uses [Smart Git Sync](/smart-git-sync/) to seamlessly integrate changes, preserving your custom code while updating the generated parts. This feature:

Makes necessary updates to both base and non-base files (e.g., updating interfaces, removing references to deleted plugins) while respecting your custom code.

:::note
For a more in-depth explanation, please read the [Smart Git Sync](/smart-git-sync) page.
:::

## Best Practices for Custom Code

When adding custom code to your Amplication service, keep these best practices in mind:

1. Use types and interfaces generated by Amplication to ensure type safety.
2. Leverage existing services and utilities provided by Amplication.
3. Create a new feature branch for significant custom code changes.
4. Regularly pull and merge the latest Amplication-generated code from the `amplication` branch into your working branch (e.g., `main`).

## How To Handle Conflicts

While Amplication strives to preserve your custom code, conflicts may arise, especially with significant changes to your data model or entity structure. 

If conflicts arise during this process, you'll need to resolve them manually in the `amplication` branch before merging into your main branch.

1. Amplication will provide clear indications of the conflicting areas using git diffs in your chosen git provider.
2. You'll need to manually resolve these conflicts in the `amplication` branch.
3. After resolving conflicts, merge the updated `amplication` branch into the main branch.

## Next Steps

Now that you understand how custom code works in Amplication, you're ready to start adding your own business logic.
For a step-by-step guide, check out our [How To Add Custom Code To Your Service](/add-custom-code-to-your-service) guide.
